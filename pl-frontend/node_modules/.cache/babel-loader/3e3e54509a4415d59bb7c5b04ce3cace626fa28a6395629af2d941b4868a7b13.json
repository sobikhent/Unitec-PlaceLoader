{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ariabedrud/Desktop/PlaceLoader/pl-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ariabedrud/Desktop/PlaceLoader/pl-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ariabedrud/Desktop/PlaceLoader/pl-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import axios from'axios';import*as XLSX from'xlsx';import'./App.css';// Importing CSS\nimport'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),keyword=_useState2[0],setKeyword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),city=_useState4[0],setCity=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),tableData=_useState6[0],setTableData=_useState6[1];var tableRef=useRef(null);// Create a ref\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,parsedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setTableData(null);setIsLoading(true);_context.prev=3;_context.next=6;return axios.post('http://127.0.0.1:5000/process_data',{keyword:keyword,city:city},{headers:{'Content-Type':'application/json'}});case 6:response=_context.sent;parsedData=JSON.parse(response.data);setTableData(parsedData);setIsLoading(false);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](3);console.error('There was an error!',_context.t0);setIsLoading(false);case 16:case\"end\":return _context.stop();}},_callee,null,[[3,12]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var exportToExcel=function exportToExcel(){var currentTime=new Date();var formattedTime=\"\".concat(currentTime.getFullYear(),\"-\").concat(currentTime.getMonth()+1,\"-\").concat(currentTime.getDate(),\"_\").concat(currentTime.getHours(),\"-\").concat(currentTime.getMinutes(),\"-\").concat(currentTime.getSeconds());var fileName=\"\".concat(city,\"_\").concat(keyword,\"_\").concat(formattedTime,\".xlsx\");var wb=XLSX.utils.table_to_book(tableRef.current);XLSX.writeFile(wb,fileName);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App d-flex flex-column align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-wrapper text-center col-md-6\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"keyword\",className:\"form-label\",children:\"Enter your special place\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded\",placeholder:\"Keyword\",value:keyword,onChange:function onChange(e){return setKeyword(e.target.value);},disabled:isLoading// Disable input when loading\n})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",className:\"form-label\",children:\"Enter City name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded\",placeholder:\"City\",value:city,onChange:function onChange(e){return setCity(e.target.value);},disabled:isLoading// Disable input when loading\n})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-rounded search-button\",disabled:isLoading// Disable button when loading\n,children:isLoading?\"Fetching Data\":\"Search\"})]})}),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),tableData&&!isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"table-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"result-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{ref:tableRef,className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:tableData.columns.map(function(col,index){return/*#__PURE__*/_jsx(\"th\",{children:col},index);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:tableData.data.map(function(row,index){return/*#__PURE__*/_jsx(\"tr\",{children:row.map(function(cell,i){return/*#__PURE__*/_jsx(\"td\",{children:cell},i);})},index);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"export-button-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:exportToExcel,className:\"btn btn-success export-button\",children:\"Export to Excel\"})})]})})]});}export default App;","map":{"version":3,"names":["React","useRef","useState","axios","XLSX","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","keyword","setKeyword","_useState3","_useState4","city","setCity","_useState5","_useState6","tableData","setTableData","tableRef","_useState7","_useState8","isLoading","setIsLoading","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","parsedData","wrap","_callee$","_context","prev","next","preventDefault","post","headers","sent","JSON","parse","data","t0","console","error","stop","_x","apply","arguments","exportToExcel","currentTime","Date","formattedTime","concat","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","fileName","wb","utils","table_to_book","current","writeFile","className","children","onSubmit","htmlFor","type","placeholder","value","onChange","target","disabled","role","ref","columns","map","col","index","row","cell","i","onClick"],"sources":["/Users/ariabedrud/Desktop/PlaceLoader/pl-frontend/src/App.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport axios from 'axios';\nimport * as XLSX from 'xlsx';\nimport './App.css'; // Importing CSS\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction App() {\n  const [keyword, setKeyword] = useState('');\n  const [city, setCity] = useState('');\n  const [tableData, setTableData] = useState(null);\n  const tableRef = useRef(null);  // Create a ref\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n  \n    setTableData(null);\n    setIsLoading(true);\n\n    try {\n      const response = await axios.post('http://127.0.0.1:5000/process_data', {\n        keyword,\n        city,\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const parsedData = JSON.parse(response.data);\n      setTableData(parsedData);\n      setIsLoading(false);\n    } catch (error) {\n      console.error('There was an error!', error);\n      setIsLoading(false);\n    }\n  };\n\n  const exportToExcel = () => {\n    const currentTime = new Date();\n    const formattedTime = `${currentTime.getFullYear()}-${currentTime.getMonth()+1}-${currentTime.getDate()}_${currentTime.getHours()}-${currentTime.getMinutes()}-${currentTime.getSeconds()}`;\n    const fileName = `${city}_${keyword}_${formattedTime}.xlsx`;\n    \n    const wb = XLSX.utils.table_to_book(tableRef.current);\n    XLSX.writeFile(wb, fileName);\n  };\n  \n\n  return (\n    <div className=\"App d-flex flex-column align-items-center justify-content-center\">\n      <div className=\"form-wrapper text-center col-md-6\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-3\">\n            <label htmlFor=\"keyword\" className=\"form-label\">Enter your special place</label>\n            <br></br>\n            <input\n              type=\"text\"\n              className=\"form-control rounded\"\n              placeholder=\"Keyword\"\n              value={keyword}\n              onChange={(e) => setKeyword(e.target.value)}\n              disabled={isLoading}  // Disable input when loading\n            />\n          </div>\n          <div className=\"mb-3\">\n            <label htmlFor=\"city\" className=\"form-label\">Enter City name</label>\n            <br></br>\n            <input\n              type=\"text\"\n              className=\"form-control rounded\"\n              placeholder=\"City\"\n              value={city}\n              onChange={(e) => setCity(e.target.value)}\n              disabled={isLoading}  // Disable input when loading\n            />\n          </div>\n          <button \n            type=\"submit\" \n            className=\"btn btn-primary btn-rounded search-button\" \n            disabled={isLoading}  // Disable button when loading\n          >\n            {isLoading ? \"Fetching Data\" : \"Search\"}\n          </button>\n        </form>\n    </div>\n\n      {isLoading && <div className=\"spinner-border text-primary\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>}\n\n      {tableData && !isLoading && (\n        <div className='table-wrapper'>\n          <div className=\"result-container\">\n            <div className=\"table-container\">\n              <table ref={tableRef} className=\"table table-bordered\">\n                <thead>\n                  <tr>\n                    {tableData.columns.map((col, index) => (\n                      <th key={index}>{col}</th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {tableData.data.map((row, index) => (\n                    <tr key={index}>\n                      {row.map((cell, i) => (\n                        <td key={i}>{cell}</td>\n                      ))}\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n            <div className=\"export-button-container\">\n              <button onClick={exportToExcel} className=\"btn btn-success export-button\">Export to Excel</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}